---
layout: post
title: Debugging Mochitests with Visual Studio
date: '2012-03-25T12:45:00.000-07:00'
author: dReXler
tags:
- Mozilla
modified_time: '2012-03-26T12:56:25.453-07:00'
thumbnail: http://lh3.ggpht.com/-6VJD9BooejY/T3DIjcnd79I/AAAAAAAAAPo/vvqg4J_tjEw/s72-c/wlEmoticon-smile%25255B2%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5817456985556447012.post-7098707290121311338
blogger_orig_url: https://darkdevx.blogspot.com/2012/03/debugging-mochitests-with-visual-studio.html
---

<p>Debugging an <a href="https://developer.mozilla.org/en/Xpcshell">xpcshell</a> test is far straightforward when compared to the more general <a href="https://developer.mozilla.org/en/Mochitest">mochitest</a>. In the course of fixing a bug where change events weren’t being fired for a focused and blurred text input or textrea when the user switches focus, I encountered a situation where after my initial fixes, an extra change event was then fired. To hunt down the culprit code responsible for the redundant dispatch, the current docs on debugging mochitests weren’t particularly helpful to those of us working on windows machines with Visual Studio.&nbsp; This technique is largely thanks to Josh Matthews and Mark Capella:</p> <ul> <li>Modify&nbsp; <em>testing/testsuite-targets.mk</em> by deleting the <em>autorun</em> option under RUN_MOCHITEST.  <li>Afterwards, run the entire mochitest suite for the branch where the particular test you want to debug is located. Wait for the browser to open with the associated tests. In Visual Studio, go to Tools-&gt;Attach Process and select the firefox.exe process showing the loaded tests.&nbsp; This should switch to the debugging view.  <li>Place an appropriate breakpoint in a relevant selection of the code that will most likely be triggered and then click on the link to the test that is to be debugged in the browser window. </li></ul> <p>Easy peasy lemon squeezy debugging <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh3.ggpht.com/-6VJD9BooejY/T3DIjcnd79I/AAAAAAAAAPo/vvqg4J_tjEw/wlEmoticon-smile%25255B2%25255D.png?imgmax=800"></p>  